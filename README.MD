# LaraVue IzCRUD

Bem-vindo ao **LaraVue IzCRUD**! Este kit Ã© baseado no Starter Kit oficial do Laravel 12 com Vue, mas foi aprimorado com um poderoso gerador de CRUDs que suporta relacionamentos complexos, desenvolvido para acelerar significativamente o desenvolvimento de aplicaÃ§Ãµes web modernas.

Com suporte nativo a **relacionamentos 1:1** e **1:N**, interface rica com componentes Vue dinÃ¢micos e TODOs orientativos, este projeto reflete minha paixÃ£o por criar ferramentas que simplificam e aceleram o dia a dia de desenvolvedores.

Desenvolvido por **Nicolas Slujalkovsky** ğŸš€

---

## âœ¨ Recursos Principais

- **CRUD Generator AvanÃ§ado**: Crie modelos, controladores, views Vue, migraÃ§Ãµes, rotas e itens de menu com um Ãºnico comando.
- **Relacionamentos Inteligentes**: Suporte automÃ¡tico para relacionamentos 1:1 (belongsTo) e 1:N (belongsToMany) com interface rica.
- **Componentes Vue DinÃ¢micos**: Interface interativa para relacionamentos com modal de criaÃ§Ã£o rÃ¡pida.
- **Stack Moderna**: Laravel 12 backend + Vue.js frontend com TypeScript.
- **Soft Delete Integrado**: Todos os CRUDs incluem soft delete com filtros automÃ¡ticos.
- **GeraÃ§Ã£o Condicional**: Imports e cÃ³digos gerados apenas quando necessÃ¡rios para performance otimizada.
- **IntegraÃ§Ã£o Sidebar**: Adiciona automaticamente itens de menu ao sidebar.
- **TODOs Orientativos**: Guias claros sobre o que ajustar apÃ³s a geraÃ§Ã£o.
- **CustomizÃ¡vel**: Adapte facilmente Ã s suas necessidades.

---

## ğŸš€ Como Usar

### PrÃ©-requisitos
- PHP 8.2+
- Composer
- Node.js & npm
- Laravel 12

### InstalaÃ§Ã£o
1. **Clone o repositÃ³rio**:
   ```bash
   git clone https://github.com/NicolasKovsky/izicrud.git
   cd starter-kit-laravel-vue
   ```
2. **Instale as dependÃªncias do PHP**:
   ```bash
   composer install
   ```
3. **Instale as dependÃªncias do frontend**:
   ```bash
   npm install
   ```
4. **Configure o arquivo `.env`**:
   - Copie `.env.example` para `.env` e ajuste as configuraÃ§Ãµes (banco de dados, etc.).
5. **Gere a chave da aplicaÃ§Ã£o**:
   ```bash
   php artisan key:generate
   ```
6. **Execute as migraÃ§Ãµes**:
   ```bash
   php artisan migrate
   ```
7. **Inicie o servidor**:
   ```bash
   php artisan serve
   npm run dev
   ```

---

## ğŸ› ï¸ Gerando CRUDs

Use o comando `make:crud` para criar um CRUD completo em segundos:

```bash
php artisan make:crud Post title:"TÃ­tulo":string content:"ConteÃºdo":text
```

### ğŸš€ **Novidade: Relacionamentos 1:N com Pivot**

Agora vocÃª pode criar relacionamentos **1 para muitos** usando a sintaxe `pModelo`:

```bash
# Exemplo: Uma Ordem de ServiÃ§o que tem vÃ¡rios ServiÃ§os
php artisan make:crud OrdemServico numero:"NÃºmero":string id_pet:"Pet":integer servicos:"ServiÃ§os":pServico
```

Isso gerarÃ¡:
- **Relacionamento pivot** no modelo (`belongsToMany`)
- **Componente Vue interativo** com lista dinÃ¢mica, modal para criaÃ§Ã£o rÃ¡pida
- **Controller com sync automÃ¡tico** dos relacionamentos
- **TODOs orientativos** para configuraÃ§Ã£o manual

### Tipos de Campos e Relacionamentos Suportados

| **Tipo**         | **DescriÃ§Ã£o**                                       | **Exemplo** |
|-------------------|-----------------------------------------------------|-------------|
| `string`          | Texto curto (ex.: nome, tÃ­tulo).                   | `title:"TÃ­tulo":string` |
| `text`            | Texto longo (ex.: descriÃ§Ã£o).                      | `content:"ConteÃºdo":text` |
| `integer`         | NÃºmero inteiro.                                     | `idade:"Idade":integer` |
| `bigInteger`      | NÃºmero inteiro grande.                              | `id_externo:"ID Externo":bigInteger` |
| `float`           | NÃºmero de ponto flutuante.                          | `preco:"PreÃ§o":float` |
| `double`          | NÃºmero de precisÃ£o dupla.                           | `latitude:"Latitude":double` |
| `decimal`         | NÃºmero decimal exato.                               | `valor:"Valor":decimal` |
| `boolean`         | Valor verdadeiro ou falso.                          | `ativo:"Ativo":boolean` |
| `date`            | Data (YYYY-MM-DD).                                  | `nascimento:"Data de Nascimento":date` |
| `datetime`        | Data e hora (YYYY-MM-DD HH:MM:SS).                  | `data_servico:"Data do ServiÃ§o":datetime` |
| `timestamp`       | Timestamp com data e hora.                          | `ultimo_acesso:"Ãšltimo Acesso":timestamp` |
| `json`            | Dados no formato JSON.                              | `configuracoes:"ConfiguraÃ§Ãµes":json` |
| `email`           | EndereÃ§o de e-mail.                                 | `email:"E-mail":email` |
| `moeda`           | Valor monetÃ¡rio (float com formataÃ§Ã£o).             | `preco:"PreÃ§o":moeda` |
| `file`            | Upload de arquivo Ãºnico.                            | `documento:"Documento":file` |
| `files`           | Upload de mÃºltiplos arquivos.                       | `anexos:"Anexos":files` |

### ğŸ”— **Relacionamentos Especiais**

| **PadrÃ£o**        | **Tipo de Relacionamento** | **DescriÃ§Ã£o**                           | **Exemplo** |
|-------------------|-----------------------------|-----------------------------------------|-------------|
| `id_campo`        | **belongsTo (1:1)**         | Chave estrangeira simples              | `id_usuario:"UsuÃ¡rio":integer` |
| `pModelo`         | **belongsToMany (1:N)**     | Relacionamento pivot/muitos-para-muitos | `servicos:"ServiÃ§os":pServico` |

### O que serÃ¡ gerado?

#### **CRUD BÃ¡sico:**
- **Modelo**: `app/Models/Post.php`
- **Controlador**: `app/Http/Controllers/PostController.php`
- **Views Vue**: `resource/js/pages/Post/index.vue` e `create.vue`
- **MigraÃ§Ã£o**: `database/migrations/[timestamp]_create_posts_table.php`
- **Rotas**: Adicionadas em `routes/web.php`
- **Menu**: Item adicionado em `resource/js/components/AppSidebar.vue`

#### **CRUD com Relacionamentos Pivot:**
Quando usar campos `pModelo`, tambÃ©m serÃ¡ gerado:
- **Componente Vue**: `resource/js/components/RelationshipManyField.vue`
- **Relacionamentos no Model**: `belongsToMany` com TODOs
- **Sync no Controller**: MÃ©todos para sincronizar relacionamentos
- **Interface Rica**: Lista dinÃ¢mica, modal para criaÃ§Ã£o rÃ¡pida, badges

### ğŸ’¡ **Exemplos PrÃ¡ticos**

#### Exemplo 1: Blog Simples
```bash
php artisan make:crud Post titulo:"TÃ­tulo":string conteudo:"ConteÃºdo":text id_autor:"Autor":integer publicado:"Publicado":boolean
```

#### Exemplo 2: E-commerce com Relacionamentos
```bash
php artisan make:crud Produto nome:"Nome":string preco:"PreÃ§o":moeda descricao:"DescriÃ§Ã£o":text categorias:"Categorias":pCategoria tags:"Tags":pTag
```

#### Exemplo 3: Sistema de Ordem de ServiÃ§o
```bash
php artisan make:crud OrdemServico numero:"NÃºmero":string id_pet:"Pet":integer data_servico:"Data do ServiÃ§o":datetime servicos:"ServiÃ§os":pServico observacoes:"ObservaÃ§Ãµes":text
```

#### ğŸ¥ **Exemplo Completo: ClÃ­nica VeterinÃ¡ria**

Sistema completo de clÃ­nica de pets com donos, pets, ordens de serviÃ§o e serviÃ§os:

```bash
# 1. Limpar o banco de dados
php artisan migrate:fresh

# 2. Criar os modelos base
php artisan make:crud Dono nome:"Nome":string email:"E-mail":email telefone:"Telefone":string endereco:"EndereÃ§o":text

php artisan make:crud Pet nome:"Nome":string especie:"EspÃ©cie":string raca:"RaÃ§a":string idade:"Idade":integer id_dono:"Dono":integer peso:"Peso":float observacoes:"ObservaÃ§Ãµes":text

php artisan make:crud Servico nome:"Nome":string descricao:"DescriÃ§Ã£o":text preco:"PreÃ§o":moeda duracao_minutos:"DuraÃ§Ã£o (min)":integer ativo:"Ativo":boolean

# 3. Criar a tabela pivot como CRUD (para gerenciar itens da ordem detalhadamente)
php artisan make:crud OrdemServicoServico id_ordemservico:"Ordem de ServiÃ§o":integer id_servico:"ServiÃ§o":integer

# 4. Criar ordem de serviÃ§o com relacionamentos
php artisan make:crud OrdemServico numero:"NÃºmero":string id_pet:"Pet":integer data_servico:"Data do ServiÃ§o":datetime servicos:"ServiÃ§os":pServico valor_total:"Valor Total":moeda status:"Status":string observacoes:"ObservaÃ§Ãµes":text

# 5. Executar migraÃ§Ãµes
php artisan migrate
```

**O que isso criarÃ¡:**

- **Donos** â†’ podem ter vÃ¡rios pets
- **Pets** â†’ pertencem a um dono, podem ter vÃ¡rias ordens
- **ServiÃ§os** â†’ catÃ¡logo de serviÃ§os da clÃ­nica
- **OrdemServicoServico** â†’ tabela pivot com campos extras (quantidade, preÃ§o, subtotal)
- **Ordens de ServiÃ§o** â†’ para um pet especÃ­fico, com mÃºltiplos serviÃ§os

**Relacionamentos gerados automaticamente:**
```php
// Dono.php - TODO: Adicionar relacionamento
public function pets() {
    return $this->hasMany(App\Models\Pet::class, 'id_dono');
}

// Pet.php - Relacionamentos jÃ¡ configurados
public function dono() {
    return $this->belongsTo(App\Models\Dono::class, 'id_dono');
}

// OrdemServico.php - Relacionamentos configurados automaticamente
public function pet() {
    return $this->belongsTo(App\Models\Pet::class, 'id_pet');
}
public function servicos() {
    return $this->belongsToMany(App\Models\Servico::class, 'ordemservicoservicos', 'id_ordemservico', 'id_servico')
        ->withPivot('quantidade', 'preco_unitario', 'subtotal')
        ->withTimestamps();
}

// Servico.php - Relacionamento reverso
public function ordemServicos() {
    return $this->belongsToMany(App\Models\OrdemServico::class, 'ordemservicoservicos', 'id_servico', 'id_ordemservico')
        ->withPivot('quantidade', 'preco_unitario', 'subtotal')
        ->withTimestamps();
}
```

**Interface resultante:**
- âœ… **FormulÃ¡rio de Ordem** com dropdown de pets e lista dinÃ¢mica de serviÃ§os
- âœ… **Modal de criaÃ§Ã£o rÃ¡pida** para novos serviÃ§os durante o agendamento
- âœ… **Badges visuais** dos serviÃ§os selecionados
- âœ… **Sync automÃ¡tico** dos relacionamentos no backend com valores padrÃ£o para campos pivot
- âœ… **CRUD da tabela pivot** para ediÃ§Ã£o detalhada de quantidades e preÃ§os
- âœ… **Sync automÃ¡tico** dos relacionamentos no backend

---

## ğŸ¨ Interface de Relacionamentos

O componente `RelationshipManyField` oferece uma interface rica e intuitiva para gerenciar relacionamentos 1:N:

### âœ¨ Recursos do Componente:
- **ğŸ·ï¸ Badges Visuais**: Lista clara dos itens selecionados com opÃ§Ã£o de remoÃ§Ã£o
- **ğŸ”½ Dropdown Inteligente**: Mostra apenas itens disponÃ­veis para seleÃ§Ã£o
- **â• CriaÃ§Ã£o RÃ¡pida**: Modal para criar novos registros relacionados sem sair da tela
- **ğŸ¯ TypeScript**: Totalmente tipado para maior seguranÃ§a
- **ğŸ“± Responsivo**: Interface adaptada para diferentes tamanhos de tela
- **ğŸ”„ Sync AutomÃ¡tico**: SincronizaÃ§Ã£o automÃ¡tica com o backend via Inertia.js

### ğŸ–¼ï¸ Como Funciona:
1. **SeleÃ§Ã£o**: Escolha itens do dropdown
2. **VisualizaÃ§Ã£o**: Veja os selecionados como badges
3. **RemoÃ§Ã£o**: Clique no X para remover itens
4. **CriaÃ§Ã£o**: Use o modal para criar novos registros relacionados
5. **SubmissÃ£o**: O formulÃ¡rio principal envia tudo automaticamente

---

## ğŸ”§ Melhorias TÃ©cnicas Recentes

### âœ… **Sistema Otimizado de GeraÃ§Ã£o**
- **GeraÃ§Ã£o Condicional**: Imports e blocos de cÃ³digo sÃ£o gerados apenas quando necessÃ¡rios
- **Performance Aprimorada**: Vue.js carrega apenas componentes utilizados
- **TypeScript Completo**: Tipagem total para seguranÃ§a de cÃ³digo

### ğŸ—‘ï¸ **Soft Delete AvanÃ§ado**
- **Filtros AutomÃ¡ticos**: Todos os CRUDs incluem `where('deleted', 0)` automaticamente
- **Controle de Estado**: Sistema completo de exclusÃ£o lÃ³gica
- **Interface Limpa**: Apenas registros ativos sÃ£o exibidos por padrÃ£o

### ğŸ”— **Relacionamentos Inteligentes**
- **Pivot Tables**: Suporte completo a relacionamentos N:N com interface rica
- **Sync AutomÃ¡tico**: GravaÃ§Ã£o e ediÃ§Ã£o de relacionamentos sem complexidade
- **Componentes DinÃ¢micos**: Interface responsiva para gerenciamento de relaÃ§Ãµes

---

## ğŸ’» Interface de Desenvolvimento para CRUDs

AlÃ©m do comando `make:crud`, vocÃª pode acessar uma interface grÃ¡fica para gerar CRUDs diretamente no navegador. Isso facilita o processo de configuraÃ§Ã£o e criaÃ§Ã£o.

### Como acessar?
1. Certifique-se de que o servidor Laravel estÃ¡ em execuÃ§Ã£o:
   ```bash
   php artisan serve
   ```
2. Acesse a rota especÃ­fica no navegador:
   ```
   http://localhost:8000/dev/crud-generator
   ```

### Recursos da interface
- **FormulÃ¡rio intuitivo**: Preencha os campos necessÃ¡rios para gerar o CRUD.
- **PrÃ©-visualizaÃ§Ã£o**: Veja os arquivos que serÃ£o criados antes de confirmar.
- **GeraÃ§Ã£o instantÃ¢nea**: Clique em "Gerar" para criar o CRUD e visualizar os resultados.

---

## ğŸ“‹ Exemplo de SaÃ­da

### CRUD BÃ¡sico:
```
âœ… CRUD para 'Post' gerado com sucesso!
------------------------------------------------
ğŸ“„ Arquivos criados:
  â€¢ Modelo: app/Models/Post.php
  â€¢ Controlador: app/Http/Controllers/PostController.php
  â€¢ Views:
    - resource/js/pages/Post/index.vue
    - resource/js/pages/Post/create.vue
  â€¢ MigraÃ§Ã£o: database/migrations/2025_11_22_123456_create_posts_table.php
  â€¢ Rotas adicionadas em: routes/web.php
  â€¢ Item de menu adicionado em: resource/js/components/AppSidebar.vue
------------------------------------------------
ğŸ“‹ Campos configurados:
  â€¢ 'TÃ­tulo' - titulo - string
  â€¢ 'ConteÃºdo' - conteudo - text
------------------------------------------------
ğŸ‰ Pronto! Verifique os arquivos e ajuste conforme necessÃ¡rio.
```

### CRUD com Relacionamentos Pivot:
```
âœ… CRUD para 'OrdemServico' gerado com sucesso!
------------------------------------------------
ğŸ“„ Arquivos criados:
  â€¢ Modelo: app/Models/OrdemServico.php
  â€¢ Controlador: app/Http/Controllers/OrdemServicoController.php
  â€¢ Views:
    - resource/js/pages/OrdemServico/index.vue
    - resource/js/pages/OrdemServico/create.vue
  â€¢ MigraÃ§Ã£o: database/migrations/2025_11_22_123456_create_ordem_servicos_table.php
  â€¢ Rotas adicionadas em: routes/web.php
  â€¢ Item de menu adicionado em: resource/js/components/AppSidebar.vue
------------------------------------------------
ğŸ“ TODOs:
  â€¢ Configurar relacionamento pivot para 'servicos' no modelo.
  â€¢ Ajustar sync do relacionamento 'servicos' no controlador.
  â€¢ Verificar se a tabela pivot existe ou criar migration para ela.
  âš ï¸  Certifique-se de que o modelo relacionado 'Servico' existe.
  âš ï¸  Ajustar campo de exibiÃ§Ã£o no controller (atualmente usando 'nome').
------------------------------------------------
ğŸ”— Relacionamentos Pivot detectados:
  â€¢ Campo: servicos â†’ Tabela pivot sugerida: ordemservico_servico
------------------------------------------------
ğŸ“¦ Componente criado:
  â€¢ RelationshipManyField: resource/js/components/RelationshipManyField.vue
------------------------------------------------
ğŸ‰ Pronto! Verifique os arquivos e ajuste conforme necessÃ¡rio.
```

---

## ğŸ¯ **Sistema Completo Testado: ClÃ­nica VeterinÃ¡ria**

O exemplo da clÃ­nica veterinÃ¡ria demonstra todo o poder do LaraVue IzCRUD com:

### ğŸ“‹ **Funcionalidades Implementadas:**
- âœ… **CRUD Completo**: Donos, Pets, ServiÃ§os e Ordens de ServiÃ§o
- âœ… **Relacionamentos 1:1**: Pet â†’ Dono (chave estrangeira)
- âœ… **Relacionamentos 1:N**: OrdemServico â†’ ServiÃ§os (pivot table)
- âœ… **Soft Delete**: Todos os registros com exclusÃ£o lÃ³gica
- âœ… **Interface Rica**: Modals, dropdowns dinÃ¢micos, badges visuais
- âœ… **TypeScript**: Tipagem completa para seguranÃ§a
- âœ… **ValidaÃ§Ã£o**: Regras de validaÃ§Ã£o automÃ¡ticas

### ğŸš€ **Execute em 30 segundos:**
```bash
git clone https://github.com/NicolasKovsky/izicrud.git
cd izicrud
composer install && npm install
cp .env.example .env && php artisan key:generate
php artisan migrate:fresh

# Copie e cole todos os comandos de uma vez:
php artisan make:crud Dono nome:"Nome":string email:"E-mail":email telefone:"Telefone":string endereco:"EndereÃ§o":text && php artisan make:crud Pet nome:"Nome":string especie:"EspÃ©cie":string raca:"RaÃ§a":string idade:"Idade":integer id_dono:"Dono":integer peso:"Peso":float observacoes:"ObservaÃ§Ãµes":text && php artisan make:crud Servico nome:"Nome":string descricao:"DescriÃ§Ã£o":text preco:"PreÃ§o":moeda duracao_minutos:"DuraÃ§Ã£o (min)":integer ativo:"Ativo":boolean && php artisan make:crud OrdemServicoServico id_ordemservico:"Ordem de ServiÃ§o":integer id_servico:"ServiÃ§o":integer && php artisan make:crud OrdemServico numero:"NÃºmero":string id_pet:"Pet":integer data_servico:"Data do ServiÃ§o":datetime servicos:"ServiÃ§os":pServico valor_total:"Valor Total":moeda status:"Status":string observacoes:"ObservaÃ§Ãµes":text

php artisan migrate && npm run dev
```

**Pronto!** Sistema completo funcionando em `http://localhost:8000` ğŸ‰

---

## ğŸ¤ ContribuiÃ§Ãµes

ContribuiÃ§Ãµes sÃ£o bem-vindas! Sinta-se Ã  vontade para abrir *issues* ou enviar *pull requests* no [repositÃ³rio GitHub](https://github.com/NicolasKovsky/izicrud).

---

## ğŸ‘¤ Autor

**Nicolas Slujalkovsky**
Entusiasta de Laravel e Vue.js, apaixonado por criar soluÃ§Ãµes que tornam o desenvolvimento mais rÃ¡pido e eficiente.
ğŸ“¬ **Conecte-se comigo**: [linkedin.com/in/nicolas-slujalkovsky](https://linkedin.com/in/nicolas-slujalkovsky)
ğŸŒ **Veja mais projetos**: [github.com/nicolas-slujalkovsky](https://github.com/nicolas-slujalkovsky)

---

## ğŸ“œ LicenÃ§a

Este projeto Ã© licenciado sob a [MIT License](LICENSE).

